<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Javascript This</title>
    <meta charset="UTF-8">
    
<meta name="description" content="It is often to use this operator when you want to implement a class or an object under object oriented programming language. Javascript doesn't have object oriented paradigm, however Javascript supports this keyword. Unlike other common programming language, in Javascript this will behave differentl ...">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3">
    <style>
      /* cyrillic-ext */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNa7lqDY.woff2) format('woff2');
        unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
      }
      /* cyrillic */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qPK7lqDY.woff2) format('woff2');
        unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
      }
      /* greek-ext */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNK7lqDY.woff2) format('woff2');
        unicode-range: U+1F00-1FFF;
      }
      /* greek */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qO67lqDY.woff2) format('woff2');
        unicode-range: U+0370-03FF;
      }
      /* vietnamese */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qN67lqDY.woff2) format('woff2');
        unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
      }
      /* latin-ext */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qNq7lqDY.woff2) format('woff2');
        unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
      }
      /* latin */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: fallback;
        src: local('Source Sans Pro Regular'), local('SourceSansPro-Regular'), url(https://fonts.gstatic.com/s/sourcesanspro/v11/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7l.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }
    </style>
    
<link href="/client.build.f2ff8eff0ebbde8e2d06.css" rel="stylesheet">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="bg-indigo h-1"></div> <nav class="max-w-md mx-auto py-2 px-5 text-base whitespace-nowrap overflow-y-auto"><a href="/" class="mr-4">Home</a> <a href="/archive.html" class="mr-4">Archive</a> <a href="https://id.linkedin.com/in/rahmandawibowo" class="mr-4">About</a></nav> <main role="main" dir="ltr"><article class="post"><h1>Javascript This</h1> <div class="text-sm text-grey-darker font-sans"><time datetime="2017-01-07">
        January 7, 2017
      </time> <span class="mx-1">•</span> <span title="3 min read">3 min read</span></div> <div class="text-sm mt-6 text-grey-darker font-sans"><!----> <span><a href="/javascript-this.html">
          Read original post (ID)
        </a> <span class="mx-1">•</span> <a href="/en">
          View all posts (EN)
        </a></span></div> <section class="mt-8"><p>It is often to use <code>this</code> operator when you want to implement a class or an object under object oriented programming language. Javascript doesn't have object oriented paradigm, however Javascript supports <code>this</code> keyword. Unlike other common programming language, in Javascript <code>this</code> will behave differently.</p>
<p>On normal condition, calling <code>this</code> will return <strong>global</strong> object. Look at example below:</p>
<pre><code class="language-js"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span> === <span class="hljs-built_in">window</span>); <span class="hljs-comment">// output 'true'</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callingGlobal</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span> === <span class="hljs-built_in">window</span>);
}
callingGlobal(); <span class="hljs-comment">// output 'true' (?)</span>
</code></pre>
<p>As we can see above, we can access global object via <code>this</code> operator even though it is inside a function scope. However if we set <code>use strict</code> on the beginning of the function body, <code>this</code> operator will not refer to global object because currently it has a different context than outside of the function.</p>
<pre><code class="language-js"><span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span> == <span class="hljs-built_in">window</span>); <span class="hljs-comment">// output 'true'</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callingGlobal</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span> == <span class="hljs-built_in">window</span>);
}
callingGlobal(); <span class="hljs-comment">// output undefined</span>
</code></pre>
<p>Some of native Javascript's functions set <code>this</code> to be a certain object just like what we have on <code>addEventListener</code>'s function.</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeBodyBackground</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> letters = <span class="hljs-string">'0123456789ABCDEF'</span>;
    <span class="hljs-keyword">var</span> color = <span class="hljs-string">'#'</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; i++ ) {
        color += letters[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">16</span>)];
    }
    <span class="hljs-keyword">this</span>.style.backgroundColor = color;
}
<span class="hljs-keyword">var</span> $body = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'body'</span>)[<span class="hljs-number">0</span>];
$body.addEventListener(<span class="hljs-string">'click'</span>, changeBodyBackground, <span class="hljs-literal">false</span>); <span class="hljs-comment">// body's background color change when it is clicked</span>
</code></pre>
<p>In example above, <code>this</code> operator is referring to <code>body</code>'s DOM object which has been attached to an event handler. But we can also change <code>this</code> so it refers to an object that we define ourselves. Suppose instead of changing <code>body</code> background color, we want the <code>h1</code> to change its background color when a user clicks <code>body</code> element.</p>
<pre><code class="language-js"><span class="hljs-comment">// changeBodyBackground</span>
<span class="hljs-keyword">var</span> $body = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'body'</span>)[<span class="hljs-number">0</span>];
<span class="hljs-keyword">var</span> $h1 = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'h1'</span>)[<span class="hljs-number">0</span>];
$body.addEventListener(<span class="hljs-string">'click'</span>, changeBodyBackground.bind($h1), <span class="hljs-literal">false</span>); <span class="hljs-comment">// h1 will change color whenever we click the body</span>
</code></pre>
<p>By using <code>bind</code>, we can apply the value of <code>this</code> according to the object which we input as parameter. Aside from <code>bind</code>, we can also use <code>call</code> and <code>apply</code> function. The difference is when <code>call</code> or <code>apply</code> is called, the corresponding function will be run.</p>
<pre><code class="language-js"><span class="hljs-keyword">var</span> someObject = {
    <span class="hljs-attr">arr</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>]
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiplyWith</span>(<span class="hljs-params">x, y</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.arr.length; i++ ) {
        <span class="hljs-keyword">this</span>.arr[i] = <span class="hljs-keyword">this</span>.arr[i] * x * y;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.arr;
}

multiplyWith.call(someObject, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// [40, 60, 100, 160, 260]</span>
multiplyWith.apply(someObject, [<span class="hljs-number">10</span>, <span class="hljs-number">2</span>]); <span class="hljs-comment">// [40, 60, 100, 160, 260]</span>
</code></pre>
<blockquote>
<p>There is a difference between <code>call</code> and <code>apply</code> when inserting function's parameters. In <code>call</code> case, it accepts parameter explicitly, whereas <code>apply</code> accepts parameter in array form.</p>
</blockquote>
<p>In <a href="http://ambercat.rahmanda.net/code/2016/12/31/closure-javascript.html">previous articles</a> i had explained about module pattern. By using <code>this</code> inside of a method, we can call object's methods or properties on the same module just like what the examples is shown below.</p>
<pre><code class="language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Cat</span>(<span class="hljs-params">type</span>) </span>{
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">walking</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> type + <span class="hljs-string">' is walking'</span>);
        },
        <span class="hljs-attr">walkingWhileEating</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.walking() + <span class="hljs-string">'while eating..'</span>;
        }
    };
}

<span class="hljs-keyword">var</span> siamese = Cat(<span class="hljs-string">'siamese'</span>);
siamese.walkingWhileEating(); <span class="hljs-comment">// siamese is walking while eating</span>
</code></pre>
<hr>
<p>Dealing with <code>this</code> is indeed tricky, especially when it is used outside module pattern. Please always add <code>use strict</code> on your Javascript's code for the sake of consistency and to get off from modifying global object.</p>
</section></article> <footer class="flex flex-col md:flex-row max-w-md mx-auto my-8"><!----> <!----></footer></main></div>
    
<script src="/client.build.153f9bdea64861dc6c99.js" type="text/javascript" async></script>
    <div id="disqus_thread" class="max-w-md mx-auto px-6 py-12"></div>
    <script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'ambercatbyrahmanda'; // required: replace example with your forum shortname

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-73365330-1', 'auto');
    ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->
  </body>
</html>
